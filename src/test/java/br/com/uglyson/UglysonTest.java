package br.com.uglyson;

import static org.junit.Assert.*;
import org.junit.Test;

public class UglysonTest {

  @Test
  public void testFeatureCollection(){
    String json = "{\"type\":\"FeatureCollection\",\"features\":[{\"type\":\"Feature\",\"geometry\":{\"type\":\"Point\",\"coordinates\":[102.0,0.5]},\"properties\":{\"prop0\":\"value0\"}},{\"type\":\"Feature\",\"geometry\":{\"type\":\"LineString\",\"coordinates\":[[102.0,0.0],[103.0,1.0],[104.0,0.0],[105.0,1.0]]},\"properties\":{\"prop0\":\"value0\",\"prop1\":0.0}},{\"type\":\"Feature\",\"geometry\":{\"type\":\"Polygon\",\"coordinates\":[[[100.0,0.0],[101.0,0.0],[101.0,1.0],[100.0,1.0],[100.0,0.0]]]},\"properties\":{\"prop0\":\"value0\",\"prop1\":{\"this\":\"that\"}}}]}";
    System.out.println(json.length());
    String ugly = Uglyson.uglifyGeoJson(json);
    System.out.println(ugly.length());
    String result = Uglyson.prettifyGeoJson(ugly);
    System.out.println(result.length());
    assertEquals(json, result);
    result = Uglyson.prettifyGeoJson(Uglyson.uglifyGeoJson(json));
    assertEquals(json, result);
  }

  @Test
  public void testUglify(){
    String json = "[{\"_id\":\"5748f131434dbea8249ae7a3\",\"index\":0,\"guid\":\"ed8a251e-3ef2-4c6b-96e0-a0b505493b67\",\"isActive\":false,\"balance\":\"$3,565.41\",\"picture\":\"http://placehold.it/32x32\",\"age\":25,\"eyeColor\":\"green\",\"name\":\"CatherineGentry\",\"gender\":\"female\",\"company\":\"YOGASM\",\"email\":\"catherinegentry@yogasm.com\",\"phone\":\"+1(826)449-2233\",\"address\":\"889MadelineCourt,Linganore,NewJersey,5675\",\"about\":\"AnimaliquipLoremdeseruntdolorfugiat.Occaecatinnisietlaborisirureminimlaborumdeserunt.Nonsitdeseruntdoexcepteurdeseruntlaborumlaboreestvoluptateametofficia.Nostrudnonnonsiteiusmod.Quisdoloranimullamcoculpadolorelaborelaborisaliquipestvoluptateutessevoluptateet.Nonpariaturmollitadipisicinglaborisveniamoccaecatadipisicingdolorcommodoquidolore.Minimcillumexsitlaborumnostrudamet.\\r\\n\",\"registered\":\"2014-11-06T06:23:26+02:00\",\"latitude\":44.921014,\"longitude\":1.180224,\"tags\":[\"officia\",\"ipsum\",\"adipisicing\",\"sint\",\"est\",\"cillum\",\"incididunt\"],\"friends\":[{\"id\":0,\"name\":\"HouseRivera\"},{\"id\":1,\"name\":\"RoachAlvarez\"},{\"id\":2,\"name\":\"MelodyJames\"}],\"greeting\":\"Hello,CatherineGentry!Youhave4unreadmessages.\",\"favoriteFruit\":\"banana\"},{\"_id\":\"5748f1310350192f7b45ddfe\",\"index\":1,\"guid\":\"2052823b-1a53-4f2c-b3c6-aa8e9d3066ee\",\"isActive\":true,\"balance\":\"$1,081.45\",\"picture\":\"http://placehold.it/32x32\",\"age\":22,\"eyeColor\":\"blue\",\"name\":\"BlankenshipMclean\",\"gender\":\"male\",\"company\":\"AMRIL\",\"email\":\"blankenshipmclean@amril.com\",\"phone\":\"+1(969)449-2484\",\"address\":\"773AdelphiStreet,Whitehaven,Louisiana,9530\",\"about\":\"Proidentnullapariaturmagnaututdolorvoluptateetvoluptateeiusmoddolorpariaturirure.Suntinealaborumoccaecatexercitationconsequatidculpaduisaliquip.Aliquipaliquipautecillumsitipsumipsumreprehenderitvoluptateiddolorquiveniam.\\r\\n\",\"registered\":\"2014-04-06T07:15:51+03:00\",\"latitude\":-36.078559,\"longitude\":65.032362,\"tags\":[\"ullamco\",\"eu\",\"non\",\"et\",\"minim\",\"nisi\",\"amet\"],\"friends\":[{\"id\":0,\"name\":\"LottMccormick\"},{\"id\":1,\"name\":\"RosarioGreen\"},{\"id\":2,\"name\":\"CoteHines\"}],\"greeting\":\"Hello,BlankenshipMclean!Youhave4unreadmessages.\",\"favoriteFruit\":\"apple\"},{\"_id\":\"5748f131ad32ee01e72a959e\",\"index\":2,\"guid\":\"a88e2da8-e6ce-4f57-bbd8-52090e6b3d97\",\"isActive\":false,\"balance\":\"$2,319.68\",\"picture\":\"http://placehold.it/32x32\",\"age\":29,\"eyeColor\":\"green\",\"name\":\"JanaGarrison\",\"gender\":\"female\",\"company\":\"AQUAMATE\",\"email\":\"janagarrison@aquamate.com\",\"phone\":\"+1(889)527-2978\",\"address\":\"859FerrisStreet,Choctaw,Pennsylvania,226\",\"about\":\"Commodosuntenimreprehenderitveniamid.Temporutnullaconsecteturlaborisdoloreutnostrudconsequatconsequat.Autedolorlaborumipsummagnaullamcoadipisicingnonvelitaliquaconsecteturvelitamet.Voluptatelaborisaliquipcommodoessedeseruntvoluptateeaaliquip.Velitvoluptateullamcoeanostrud.Nullaculpaminimdeseruntexercitationvoluptateincididuntfugiatofficiasintadipisicingquicillum.Cillumetinauteproidentaliquaelit.\\r\\n\",\"registered\":\"2015-11-06T05:15:08+02:00\",\"latitude\":-62.544721,\"longitude\":0.975332,\"tags\":[\"laboris\",\"cupidatat\",\"non\",\"proident\",\"mollit\",\"Lorem\",\"ipsum\"],\"friends\":[{\"id\":0,\"name\":\"LilianHull\"},{\"id\":1,\"name\":\"LeslieFreeman\"},{\"id\":2,\"name\":\"LongBullock\"}],\"greeting\":\"Hello,JanaGarrison!Youhave9unreadmessages.\",\"favoriteFruit\":\"strawberry\"},{\"_id\":\"5748f131bf51988f5dff6bb1\",\"index\":3,\"guid\":\"85bb74a3-9248-4a94-a898-d4584b209bc9\",\"isActive\":true,\"balance\":\"$1,859.65\",\"picture\":\"http://placehold.it/32x32\",\"age\":27,\"eyeColor\":\"brown\",\"name\":\"BurksConley\",\"gender\":\"male\",\"company\":\"RECRITUBE\",\"email\":\"burksconley@recritube.com\",\"phone\":\"+1(924)511-2786\",\"address\":\"109ChurchAvenue,Hoehne,MarshallIslands,4396\",\"about\":\"Laborumreprehenderitsitenimelitdoveniamlaborenostrudadipisicingsintnisipariatur.EanullasuntcillumLoremadipisicingfugiatculpaeiusmoddolorcillumsunt.LaboresintLoremametquiseaveniamconsequatconsequatdoloreu.Animullamcodocommodomagnavoluptateestsuntadipisicingexercitationveniamquisnostrudvelit.\\r\\n\",\"registered\":\"2015-09-15T12:44:38+03:00\",\"latitude\":-28.28223,\"longitude\":-114.780984,\"tags\":[\"minim\",\"nulla\",\"reprehenderit\",\"occaecat\",\"ut\",\"proident\",\"aliqua\"],\"friends\":[{\"id\":0,\"name\":\"HarrietShaw\"},{\"id\":1,\"name\":\"WorkmanMccoy\"},{\"id\":2,\"name\":\"FaithStrong\"}],\"greeting\":\"Hello,BurksConley!Youhave10unreadmessages.\",\"favoriteFruit\":\"banana\"},{\"_id\":\"5748f1317875a47ccfe52d06\",\"index\":4,\"guid\":\"9c32d81c-1da3-42e8-9411-d63ef0d02260\",\"isActive\":true,\"balance\":\"$1,614.01\",\"picture\":\"http://placehold.it/32x32\",\"age\":22,\"eyeColor\":\"green\",\"name\":\"CathrynPatel\",\"gender\":\"female\",\"company\":\"ECSTASIA\",\"email\":\"cathrynpatel@ecstasia.com\",\"phone\":\"+1(838)457-2068\",\"address\":\"271KrierPlace,Trinway,NorthDakota,5894\",\"about\":\"Duisauteametnisiduisadipisicingreprehenderitmollitid.Reprehenderiteunullaullamcoexlaborisetenimnoneaid.Consequatdoloreenimdoloreumollitaliquaadeaetlaborisirure.\\r\\n\",\"registered\":\"2016-03-31T02:02:24+03:00\",\"latitude\":-71.230692,\"longitude\":-94.101634,\"tags\":[\"ullamco\",\"mollit\",\"ad\",\"incididunt\",\"eiusmod\",\"ullamco\",\"et\"],\"friends\":[{\"id\":0,\"name\":\"ZelmaBlair\"},{\"id\":1,\"name\":\"LucasRasmussen\"},{\"id\":2,\"name\":\"MicheleLogan\"}],\"greeting\":\"Hello,CathrynPatel!Youhave2unreadmessages.\",\"favoriteFruit\":\"banana\"},{\"_id\":\"5748f131ba2663f3e04da74d\",\"index\":5,\"guid\":\"7c9f0197-3cc2-4675-ba6f-fc9c4007d9cb\",\"isActive\":true,\"balance\":\"$1,245.65\",\"picture\":\"http://placehold.it/32x32\",\"age\":39,\"eyeColor\":\"blue\",\"name\":\"McculloughEwing\",\"gender\":\"male\",\"company\":\"TRIPSCH\",\"email\":\"mcculloughewing@tripsch.com\",\"phone\":\"+1(844)457-3317\",\"address\":\"521LaurelAvenue,Delshire,NewYork,4813\",\"about\":\"Idmollitexcepteurdolorelaboriscommodoculpaametut.Veniamproidentlaborislaboreincididuntminimesseetestaliquip.Quisfugiatnisioccaecateuquioccaecatnonlaborelabore.Dolorelitfugiatestnonaliquipnonproidentculpa.Mollitlaboreoccaecatirureeudolormollit.Exercitationculpaexcepteurcommodoconsequatlaborisanimetcillumeiusmodnonvoluptateestnullalabore.Quissintullamcomagnaeliteiusmodametpariaturexut.\\r\\n\",\"registered\":\"2014-01-25T09:30:03+02:00\",\"latitude\":89.202174,\"longitude\":127.536528,\"tags\":[\"ea\",\"ut\",\"laboris\",\"nulla\",\"excepteur\",\"incididunt\",\"nisi\"],\"friends\":[{\"id\":0,\"name\":\"CaitlinMolina\"},{\"id\":1,\"name\":\"SandovalWatson\"},{\"id\":2,\"name\":\"GravesWaters\"}],\"greeting\":\"Hello,McculloughEwing!Youhave5unreadmessages.\",\"favoriteFruit\":\"strawberry\"}]";
    System.out.println(json.length());
    String result = Uglyson.uglify(json);
    System.out.println(result.length());
    result = Uglyson.prettify(result);
    System.out.println(result.length());
  }

}
